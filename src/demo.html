<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leave Form</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Flatpickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    /* Override Flatpickr input style */
    .flatpickr-input {
      padding-left: 2.5rem;
      /* space for icon */
    }
  </style>
</head>

<body class="bg-gray-50 flex items-center justify-center min-h-screen">

  <div class="bg-white p-6 rounded-xl shadow-md w-full max-w-3xl">
    <div class="grid grid-cols-2 gap-6">

      <!-- Leave Type -->
      <div>
        <h3 class="font-semibold text-gray-800 mb-3">Leave type</h3>
        <div class="flex space-x-3 relative">

          <!-- Leave -->
          <label class="flex items-center gap-2 px-4 py-2 rounded-lg border cursor-pointer
                        peer-checked:bg-green-500 peer-checked:text-white text-gray-600">
            <input type="radio" name="leaveType" class="hidden peer" checked>
            üèñÔ∏è Leave
          </label>

          <!-- Sick -->
          <label class="flex items-center gap-2 px-4 py-2 rounded-lg border cursor-pointer
                        peer-checked:bg-green-500 peer-checked:text-white text-gray-600">
            <input type="radio" name="leaveType" class="hidden peer">
            üå°Ô∏è Sick
          </label>

          <!-- Other Custom Dropdown -->
          <div class="relative">
            <button id="otherBtn"
              class="flex items-center gap-2 px-4 py-2 rounded-lg border text-gray-600 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500">
              Other ‚ñº
            </button>
            <!-- Dropdown menu -->
            <div id="otherMenu"
              class="hidden absolute top-full left-0 mt-2 w-40 bg-white border rounded-lg shadow-lg z-50">
              <button class="block w-full px-4 py-2 text-left hover:bg-gray-100">Personal</button>
              <button class="block w-full px-4 py-2 text-left hover:bg-gray-100">Remote</button>
              <button class="block w-full px-4 py-2 text-left hover:bg-gray-100">Holiday</button>
            </div>
          </div>

        </div>
      </div>

      <!-- Period -->
      <div>
        <h3 class="font-semibold text-gray-800 mb-3">Period</h3>
        <div class="flex space-x-3">
          <!-- Start Date -->
          <div class="relative w-full">
            <i data-lucide="calendar-range" class="absolute left-3 top-2.5 text-gray-500"></i>
            <input id="startDate" placeholder="Select date"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          <!-- End Date -->
          <div class="relative w-full">
            <i data-lucide="calendar-range" class="absolute left-3 top-2.5 text-gray-500"></i>
            <input id="endDate" placeholder="Select date"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Flatpickr JS -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Recommended: use altInput so display is "May 21, 2023"
      flatpickr("#startDate", {
        // use ISO for internal value; alt shows human-friendly format
        dateFormat: "Y-m-d",       // underlying value (good for forms/APIs)
        altInput: true,
        altFormat: "F j, Y",       // => "May 19, 2023"
        defaultDate: "2023-05-19", // ISO works reliably
        allowInput: true
      });

      flatpickr("#endDate", {
        dateFormat: "Y-m-d",
        altInput: true,
        altFormat: "F j, Y",
        defaultDate: "2023-05-21", // ISO string is OK
        allowInput: true
      });

      // Alternative if you want to pass a Date object:
      // defaultDate: new Date(2023, 4, 21)  // months are 0-indexed: 4 = May
    });

    // Custom Dropdown
    const otherBtn = document.getElementById("otherBtn");
    const otherMenu = document.getElementById("otherMenu");

    otherBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      otherMenu.classList.toggle("hidden");
    });

    document.addEventListener("click", () => {
      otherMenu.classList.add("hidden");
    });

    otherMenu.querySelectorAll("button").forEach(option => {
      option.addEventListener("click", () => {
        otherBtn.textContent = option.textContent;
        otherMenu.classList.add("hidden");
      });
    });

    // Load icons
    lucide.createIcons();
  </script>

</body>

</html>